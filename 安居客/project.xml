<root>
  <Doc Name="" Description="" Version="0" SavePath="D:\TopCoder\Hawk-Projects\安居客\project.xml">
    <DBConnections>
      <Children DBName="anjuke" Name="MongoDB-anjuke" TypeName="MongoDBConnector" ConnectString="mongodb://127.0.0.1" AutoConnect="True" />
      <Children DBName="" Name="文件管理" TypeName="FileManager" ConnectString="" AutoConnect="True" />
    </DBConnections>
    <Children Name="生成所有小区" Type="SmartETLTool" MaxThreadCount="20" GenerateMode="并行模式" CreateTime="0001/1/1 0:00:00" Description="" ScriptPath="" Children="System.Collections.Generic.List`1[Hawk.Core.Utils.Plugins.FreeDocument]">
      <Children Position="0" MergeType="Append" IsExecute="False" ETLSelector="安居客城市" Column="" Enabled="True" Type="EtlGE" Group="Transformer" />
      <Children MergeWith="" Format="http://{0}.fang.anjuke.com/?from=navigation" Column="city" NewColumn="url" Enabled="True" OneOutput="True" IsMultiYield="False" Type="MergeTF" Group="Transformer" />
      <Children CrawlerSelector="网页采集器-通用" Column="url" NewColumn="" Enabled="True" OneOutput="False" IsMultiYield="False" Type="CrawlerTF" Group="Transformer" />
      <Children XPath="/html[1]/body[1]/div[2]/div[2]/div[1]/div[1]/div[2]/span[1]/em[1]" IsManyData="False" GetText="False" GetCount="False" IsInsertNull="False" Column="Content" NewColumn="count" Enabled="True" OneOutput="True" IsMultiYield="False" Type="XPathTF" Group="Transformer" />
      <Children XPath="//*[@class=&quot;key-list&quot;]/div" IsManyData="False" GetText="False" GetCount="False" IsInsertNull="False" Column="Content" NewColumn="pcount" Enabled="True" OneOutput="True" IsMultiYield="False" Type="XPathTF" Group="Transformer" />
      <Children Column="Content" NewColumn="" Enabled="True" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children IsMultiYield="False" Index="0" Script="(-?\d+)(\.\d+)?" NewColumn="" Column="pcount" Enabled="True" OneOutput="True" Type="NumberTF" Group="Transformer" />
      <Children Revert="False" Column="pcount" Priority="0" Enabled="True" Type="NullFT" Group="Filter" />
      <Children ScriptWorkMode="不进行转换" Script="value!='上海' and str(count).find('1525')&gt;=0" Column="Text" NewColumn="filter" Enabled="True" OneOutput="False" Type="PythonTF" Group="Transformer" />
      <Children Script="False" Count="1" Revert="False" Column="filter" Priority="0" Enabled="True" Type="RegexFT" Group="Filter" />
      <Children ScriptWorkMode="不进行转换" Script="int(int(value)/int(pcount)+1)" Column="count" NewColumn="page" Enabled="True" OneOutput="False" Type="PythonTF" Group="Transformer" />
      <Children MinValue="1" MaxValue="[page]" Interval="1" RepeatCount="1" Column="npage" Enabled="True" Position="0" MergeType="Cross" Type="RangeGE" Group="Generator" />
      <Children MergeWith="npage" Format="{0}-{1}" Column="city" NewColumn="thread" Enabled="True" OneOutput="True" IsMultiYield="False" Type="MergeTF" Group="Transformer" />
      <Children Column="pcount" NewColumn="" Enabled="True" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children MergeWith="npage" Format="http://{0}.fang.anjuke.com/loupan/s?p={1}" Column="city" NewColumn="url" Enabled="True" OneOutput="True" IsMultiYield="False" Type="MergeTF" Group="Transformer" />
      <Children IDColumn="[thread]" Position="0" MountColumn="50" DisplayProgress="True" Column="npage" NewColumn="" Enabled="True" OneOutput="True" IsMultiYield="True" Type="ToListTF" Group="Transformer" />
      <Children CrawlerSelector="安居客小区列表" Column="url" NewColumn="city" Enabled="True" OneOutput="False" IsMultiYield="True" Type="CrawlerTF" Group="Transformer" />
      <Children IsMultiYield="False" Index="0" Script="(-?\d+)(\.\d+)?" NewColumn="" Column="点评数量" Enabled="True" OneOutput="True" Type="NumberTF" Group="Transformer" />
      <Children ConvertType="Decode" Column="商圈" NewColumn="" Enabled="True" OneOutput="True" IsMultiYield="False" Type="HtmlTF" Group="Transformer" />
      <Children IsMultiYield="False" Index="0" Script="(-?\d+)(\.\d+)?" NewColumn="id" Column="url" Enabled="True" OneOutput="True" Type="NumberTF" Group="Transformer" />
      <Children MergeWith="特点2 特点3 特点4" Format="{0} {1} {2} {3}" Column="特点1" NewColumn="特点" Enabled="True" OneOutput="True" IsMultiYield="False" Type="MergeTF" Group="Transformer" />
      <Children Column="特点1" NewColumn="" Enabled="True" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children Column="特点2" NewColumn="" Enabled="True" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children Column="特点3" NewColumn="" Enabled="True" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children Column="特点4" NewColumn="" Enabled="True" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children Enabled="True" IsMultiYield="False" ETLSelector="详细参数" Column="city" Type="EtlTF" Group="Transformer" />
    </Children>
    <Children Name="安居客核心流程" Type="SmartETLTool" MaxThreadCount="6" GenerateMode="并行模式" SampleMount="4" CreateTime="2016/5/1 16:29:03" Description="核心流程" ScriptPath="安居客.py">
      <Children Position="0" MergeType="Append" ETLSelector="安居客城市" Column="" Enabled="True" Type="EtlGE" Group="Generator" />
      <Children Format="http://{0}.fang.anjuke.com/?from=navigation" Enabled="True" MergeWith="" Column="city" NewColumn="url" OneOutput="True" IsMultiYield="False" Type="MergeTF" Group="Transformer" />
      <Children Enabled="True" CrawlerSelector="网页采集器-通用" HeaderFilter="Location" Column="url" NewColumn="" OneOutput="False" IsMultiYield="False" Type="ResponseTF" Group="Transformer" />
      <Children Enabled="True" FromBack="False" ShouldSplitChars="False" SplitPause="False" SplitNull="True" Index="1" SplitChar="/ ." Column="Location" NewColumn="scity" OneOutput="True" IsMultiYield="False" Type="SplitTF" Group="Transformer" />
      <Children Enabled="True" ScriptWorkMode="不进行转换" Script="'sanya' if data['city']=='sanya' else value" Column="scity" NewColumn="" OneOutput="False" IsMultiYield="False" Type="PythonTF" Group="Transformer" />
      <Children Enabled="True" Column="Location" NewColumn="url" OneOutput="False" IsMultiYield="False" Type="RenameTF" Group="Transformer" />
      <Children MaxTryCount="3" Enabled="True" ErrorDelay="3000" IsRegex="False" CrawlerSelector="网页采集器-通用" Column="url" NewColumn="" OneOutput="False" IsMultiYield="False" Type="CrawlerTF" Group="Transformer" />
      <Children Enabled="True" XPath="/html[1]/body[1]/div[2]/div[2]/div[1]/div[1]/div[2]/span[1]/em[1]" IsManyData="False" GetText="False" GetCount="False" IsInsertNull="False" Column="Content" NewColumn="count" OneOutput="True" IsMultiYield="False" Type="XPathTF" Group="Transformer" />
      <Children Enabled="True" XPath="//*[@class=&quot;key-list&quot;]/div" IsManyData="False" GetText="False" GetCount="True" IsInsertNull="False" Column="Content" NewColumn="pcount" OneOutput="True" IsMultiYield="False" Type="XPathTF" Group="Transformer" />
      <Children Enabled="True" Column="Content" NewColumn="" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children Enabled="True" IsMultiYield="False" Index="0" Script="(-?\d+)(\.\d+)?" NewColumn="" Column="pcount" OneOutput="True" Type="NumberTF" Group="Transformer" />
      <Children Enabled="True" Revert="False" Column="pcount" IsDebugFilter="True" Type="NullFT" Group="Filter" />
      <Children Enabled="True" ScriptWorkMode="不进行转换" Script="value!='上海' and str(count).find('1525')&gt;=0" Column="Text" NewColumn="filter" OneOutput="False" IsMultiYield="False" Type="PythonTF" Group="Transformer" />
      <Children Script="False" Enabled="True" Count="1" Revert="False" Column="filter" IsDebugFilter="True" Type="RegexFT" Group="Filter" />
      <Children Enabled="True" ScriptWorkMode="不进行转换" Script="1 if int(value)==int(pcount) else int(int(value)/int(pcount)+1)" Column="count" NewColumn="page" OneOutput="False" IsMultiYield="False" Type="PythonTF" Group="Transformer" />
      <Children Enabled="True" MinValue="1" MaxValue="[page]" Interval="1" Column="npage" Position="0" MergeType="Cross" Type="RangeGE" Group="Generator" />
      <Children Skip="0" Take="20000000" Revert="False" Column="npage" Enabled="True" IsDebugFilter="True" Type="NumRangeFT" Group="Filter" />
      <Children Enabled="True" ScriptWorkMode="不进行转换" Script="'shen' if data['city']=='sy' else value" Column="scity" NewColumn="" OneOutput="False" IsMultiYield="False" Type="PythonTF" Group="Transformer" />
      <Children Format="{0}-{1}" Enabled="True" MergeWith="npage" Column="city" NewColumn="thread" OneOutput="True" IsMultiYield="False" Type="MergeTF" Group="Transformer" />
      <Children Format="http://{0}.fang.anjuke.com/loupan/s?p={1}" Enabled="True" MergeWith="npage" Column="scity" NewColumn="url" OneOutput="True" IsMultiYield="False" Type="MergeTF" Group="Transformer" />
      <Children Enabled="True" IDColumn="[thread]" MountColumn="[pcount]" DisplayProgress="True" Column="npage" NewColumn="" OneOutput="True" IsMultiYield="True" Type="ToListTF" Group="Transformer" />
      <Children Enabled="True" Column="pcount" NewColumn="" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children MaxTryCount="3" Enabled="True" ErrorDelay="3000" IsRegex="False" CrawlerSelector="安居客小区列表" Column="url" NewColumn="scity city" OneOutput="False" IsMultiYield="True" Type="CrawlerTF" Group="Transformer" />
      <Children Enabled="True" IsMultiYield="False" Index="0" Script="(-?\d+)(\.\d+)?" NewColumn="" Column="点评数量" OneOutput="True" Type="NumberTF" Group="Transformer" />
      <Children Enabled="True" ConvertType="Decode" Column="商圈" NewColumn="" OneOutput="True" IsMultiYield="False" Type="HtmlTF" Group="Transformer" />
      <Children Enabled="True" IsMultiYield="False" Index="0" Script="(-?\d+)(\.\d+)?" NewColumn="id" Column="url" OneOutput="True" Type="NumberTF" Group="Transformer" />
      <Children Name="防重复" Enabled="True" IsMutliDatas="False" SearchStrategy="Contains" KeyName="id city" Column="id" NewColumn="" OneOutput="False" IsMultiYield="False" Type="JoinDBTF" Group="Transformer" Connector="MongoDB-anjuke" TableName="main" Columns="_id" />
      <Children Name="防重复" Enabled="True" Revert="True" Column="_id" IsDebugFilter="False" Type="NullFT" Group="Filter" />
      <Children Format="{0} {1} {2} {3}" Enabled="True" MergeWith="特点2 特点3 特点4" Column="特点1" NewColumn="特点" OneOutput="True" IsMultiYield="False" Type="MergeTF" Group="Transformer" />
      <Children Enabled="True" Column="特点1" NewColumn="" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children Enabled="True" Column="特点2" NewColumn="" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children Enabled="True" Column="特点3" NewColumn="" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children Enabled="True" Column="特点4" NewColumn="" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children Enabled="False" NewColumn="" IsMultiYield="False" ETLSelector="详细参数" Column="city" Type="EtlTF" Group="Transformer" />
      <Children Enabled="True" NewColumn="" IsMultiYield="False" ETLSelector="小区数据采集" Column="点评数量" Type="EtlTF" Group="Transformer" />
      <Children Enabled="True" IsClone="False" Table="测试表" Column="商圈" Type="TableEX" Group="Executor" />
    </Children>
    <Children Name="安居客城市" Type="SmartETLTool" MaxThreadCount="20" GenerateMode="串行模式" SampleMount="20" CreateTime="2016/5/1 16:29:03" Description="任务描述" ScriptPath="    ">
      <Children Enabled="True" Content="http://www.anjuke.com/sy-city.html" Column="url" Position="0" MergeType="Append" Type="TextGE" Group="Generator" />
      <Children MaxTryCount="1" Enabled="True" ErrorDelay="3000" IsRegex="False" CrawlerSelector="网页采集器-通用" Column="url" NewColumn="" OneOutput="False" IsMultiYield="False" Type="CrawlerTF" Group="Transformer" />
      <Children Enabled="True" XPath="//dl" IsManyData="True" GetText="False" GetCount="False" IsInsertNull="False" Column="Content" NewColumn="" OneOutput="True" IsMultiYield="True" Type="XPathTF" Group="Transformer" />
      <Children Enabled="True" XPath="//a" IsManyData="True" GetText="False" GetCount="False" IsInsertNull="False" Column="HTML" NewColumn="" OneOutput="True" IsMultiYield="True" Type="XPathTF" Group="Transformer" />
      <Children Enabled="True" FromBack="False" IsMultiYield="False" Index="1" Script="&quot;" NewColumn="url" Column="OHTML" OneOutput="True" Type="RegexSplitTF" Group="Transformer" />
      <Children Enabled="True" Column="OHTML" NewColumn="" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children Enabled="True" FromBack="False" ShouldSplitChars="False" SplitPause="False" SplitNull="True" Index="1" SplitChar="/ ." Column="url" NewColumn="" OneOutput="True" IsMultiYield="False" Type="SplitTF" Group="Transformer" />
      <Children Enabled="True" Column="HTML" NewColumn="" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children Enabled="True" Revert="False" Column="Text" IsDebugFilter="True" Type="RepeatFT" Group="Filter" />
      <Children Enabled="True" Column="url" NewColumn="city" OneOutput="False" IsMultiYield="False" Type="RenameTF" Group="Transformer" />
      <Children Enabled="True" ReplaceBlank="False" ReplaceInnerBlank="True" Column="Text" NewColumn="" OneOutput="True" IsMultiYield="False" Type="TrimTF" Group="Transformer" />
      <Children Enabled="True" ReplaceBlank="False" ReplaceInnerBlank="True" Column="city" NewColumn="" OneOutput="True" IsMultiYield="False" Type="TrimTF" Group="Transformer" />
      <Children Script="北京" Enabled="True" Count="1" Revert="False" Column="Text" IsDebugFilter="True" Type="RegexFT" Group="Filter" />
    </Children>
    <Children Name="网页采集器-通用" Type="SmartCrawler" URL="http://bj.fang.anjuke.com/loupan/canshu-251751.html?from=loupan_tab" RootXPath="" IsMultiData="One" URLFilter="https://www.dianping.com/shopall/2/0" ContentFilter="" Crawler="" CreateTime="2016/5/1 16:29:03" Description="任务描述" ScriptPath="    ">
      <HttpSet URL="http://bj.fang.anjuke.com/loupan/canshu-251751.html?from=loupan_tab" Allowautoredirect="True" Postdata="" Encoding="Unknown" Method="GET" Parameters="Accept:text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8&#xA;Cookie:ctid=14;expires=Mon, 20-Jun-2016 14:29:25 GMT;Max-Age=2592000;path=/;domain=anjuke.com;aQQ_ajkguid=198C990F-F8D1-B8A1-504A-4DC77C63C9EC;isp=true;als=0;_qzja=1.56796143.1461414601655.1462686461381.1463275403342.1463275403342.1463275412755..0.0.7.3;_ga=GA1.2.1465101467.1461414598;_jzqx=1.1461414602.1463580822.5.jzqsr=bj%2Eanjuke%2Ecom|jzqct=/.jzqsr=zhengzhou%2Eanjuke%2Ecom|jzqct=/;sessid=7C295BE6-9579-A0FF-069C-SX0521172114;lps=http%3A%2F%2Flogin.anjuke.com%2Fplugin%2Flogin%3Fmediatype%3D0%26btnname%3D%25E5%25BF%25AB%25E9%2580%259F%25E7%2594%25B3%25E8%25AF%25B7%7Chttp%3A%2F%2Fks.fang.anjuke.com%2Floupan%2F236753.html%3Ffrom%3Dloupan_index_crumb;ajk_member_captcha=18cca4f2fe60e3171128b9d947d5107d;_jzqckmp=1;__xsptplus8=8.7.1463822475.1463822652.2%232%7Cbzclk.baidu.com%7C%7C%7C%25E5%25AE%2589%25E5%25B1%2585%25E5%25AE%25A2%7C%23%233B-CyjsR4rUCdHUD9EU3WDaxk1qwbLcs%23;_jzqa=1.1903731149120286000.1461414602.1463580822.1463822475.7;_jzqc=1;lp_lt_ut=3729318e082e6f2b6873abccdf04ee50;twe=2;Hm_lvt_c5899c8768ebee272710c9c5f365a6d8=1462692276,1463275063,1463580815,1463822475;Hm_lpvt_c5899c8768ebee272710c9c5f365a6d8=1463839970;58tj_uuid=3ad15406-0eed-4a29-a1b5-80847577ccc6;new_session=0;init_refer=;new_uv=8&#xA;Host:bj.fang.anjuke.com&#xA;User-Agent:Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/38.0.2125.122 Safari/537.36 SE 2.X MetaSr 1.0&#xA;Accept-Encoding:gzip,deflate,sdch&#xA;Accept-Language:zh-CN,zh;q=0.8&#xA;Cache-Control:max-age=0&#xA;Connection:keep-alive&#xA;If-Modified-Since:Sat, 21 May 2016 14:12:49 GMT&#xA;" />
    </Children>
    <Children Name="安居客小区列表" Type="SmartCrawler" URL="http://bj.fang.anjuke.com/?from=loupan_index_crumb" RootXPath="//*[@class=&quot;key-list&quot;]/div" IsMultiData="List" URLFilter="" ContentFilter="" Crawler="" CreateTime="2016/5/1 16:29:03" Description="任务描述" ScriptPath="    ">
      <HttpSet URL="http://bj.fang.anjuke.com/?from=loupan_index_crumb" Allowautoredirect="True" Postdata="" Encoding="Unknown" Method="GET" Parameters="Accept:text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8&#xA;Cookie:ctid=14;expires=Mon, 20-Jun-2016 14:29:25 GMT;Max-Age=2592000;path=/;domain=anjuke.com;aQQ_ajkguid=198C990F-F8D1-B8A1-504A-4DC77C63C9EC;isp=true;als=0;_qzja=1.56796143.1461414601655.1462686461381.1463275403342.1463275403342.1463275412755..0.0.7.3;_ga=GA1.2.1465101467.1461414598;_jzqx=1.1461414602.1463580822.5.jzqsr=bj%2Eanjuke%2Ecom|jzqct=/.jzqsr=zhengzhou%2Eanjuke%2Ecom|jzqct=/;sessid=7C295BE6-9579-A0FF-069C-SX0521172114;lps=http%3A%2F%2Flogin.anjuke.com%2Fplugin%2Flogin%3Fmediatype%3D0%26btnname%3D%25E5%25BF%25AB%25E9%2580%259F%25E7%2594%25B3%25E8%25AF%25B7%7Chttp%3A%2F%2Fks.fang.anjuke.com%2Floupan%2F236753.html%3Ffrom%3Dloupan_index_crumb;ajk_member_captcha=18cca4f2fe60e3171128b9d947d5107d;_jzqckmp=1;__xsptplus8=8.7.1463822475.1463822652.2%232%7Cbzclk.baidu.com%7C%7C%7C%25E5%25AE%2589%25E5%25B1%2585%25E5%25AE%25A2%7C%23%233B-CyjsR4rUCdHUD9EU3WDaxk1qwbLcs%23;_jzqa=1.1903731149120286000.1461414602.1463580822.1463822475.7;_jzqc=1;lp_lt_ut=3729318e082e6f2b6873abccdf04ee50;twe=2;Hm_lvt_c5899c8768ebee272710c9c5f365a6d8=1462692276,1463275063,1463580815,1463822475;Hm_lpvt_c5899c8768ebee272710c9c5f365a6d8=1463839970;58tj_uuid=3ad15406-0eed-4a29-a1b5-80847577ccc6;new_session=0;init_refer=;new_uv=8&#xA;Host:bj.fang.anjuke.com&#xA;User-Agent:Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/38.0.2125.122 Safari/537.36 SE 2.X MetaSr 1.0&#xA;Accept-Encoding:gzip,deflate,sdch&#xA;Accept-Language:zh-CN,zh;q=0.8&#xA;Cache-Control:max-age=0&#xA;Connection:keep-alive&#xA;If-Modified-Since:Sat, 21 May 2016 14:12:49 GMT&#xA;" />
      <Children Name="楼盘名称" XPath="/div[1]/div[1]/h3[1]/a[1]" IsHtml="False" />
      <Children Name="点评数量" XPath="/div[1]/div[1]/a[1]" IsHtml="False" />
      <Children Name="商圈" XPath="/div[1]/p[1]/a[1]" IsHtml="False" />
      <Children Name="特点1" XPath="/div[1]/div[2]/span[1]" IsHtml="False" />
      <Children Name="特点2" XPath="/div[1]/div[2]/span[2]" IsHtml="False" />
      <Children Name="特点3" XPath="/div[1]/div[2]/span[3]" IsHtml="False" />
      <Children Name="特点4" XPath="/div[1]/div[2]/span[4]" IsHtml="False" />
      <Children Name="url" XPath="/a[1]/@href[1]" IsHtml="False" />
      <Children Name="售房状态" XPath="/div[1]/div[1]/i[1]" IsHtml="False" />
    </Children>
    <Children Name="安居客相册" Type="SmartETLTool" MaxThreadCount="20" GenerateMode="串行模式" SampleMount="20" CreateTime="2016/5/1 16:29:03" Description="任务描述" ScriptPath="    ">
      <Children Enabled="False" Content="http://bj.fang.anjuke.com/loupan/xiangce-400776.html?from=loupan_tab###" Column="picturl" Position="0" MergeType="Append" Type="TextGE" Group="Generator" />
      <Children MaxTryCount="1" Enabled="True" ErrorDelay="3000" GEName="" IsRegex="False" CrawlerSelector="网页采集器-通用" Column="picturl" NewColumn="scity city id" OneOutput="False" IsMultiYield="False" Type="CrawlerTF" Group="Transformer" />
      <Children Enabled="True" XPath="/html[1]/body[1]/div[2]/div[1]" IsManyData="False" GetText="False" GetCount="False" IsInsertNull="False" Column="Content" NewColumn="piclist" OneOutput="True" IsMultiYield="False" Type="XPathTF" Group="Transformer" />
      <Children Enabled="True" Former="imageAlbumData =" End="/**/" HaveStartEnd="False" Column="Content" NewColumn="" OneOutput="True" IsMultiYield="False" Type="StrExtractTF" Group="Transformer" />
      <Children ReplaceText="" IsMultiYield="False" Index="0" Script="\s|;" NewColumn="" Column="Content" Enabled="True" OneOutput="True" Type="ReReplaceTF" Group="Transformer" />
      <Children ReplaceText="" IsMultiYield="False" Index="0" Script="全部图片|画报" NewColumn="" Column="piclist" Enabled="True" OneOutput="True" Type="ReReplaceTF" Group="Transformer" />
      <Children Enabled="True" ReplaceBlank="False" ReplaceInnerBlank="True" Column="piclist" NewColumn="" OneOutput="True" IsMultiYield="False" Type="TrimTF" Group="Transformer" />
      <Children ReplaceText="'big'" IsMultiYield="False" Index="0" Script="big" NewColumn="" Column="Content" Enabled="True" OneOutput="True" Type="ReReplaceTF" Group="Transformer" />
      <Children ReplaceText="'small'" IsMultiYield="False" Index="0" Script="small" NewColumn="" Column="Content" Enabled="True" OneOutput="True" Type="ReReplaceTF" Group="Transformer" />
      <Children Enabled="True" Column="picturl" NewColumn="" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children ExecuteType="OnlyInsert" TableName="xiangce" Column="piclist" Enabled="False" Type="DbEX" Group="Executor" Connector="MongoDB-anjuke" />
      <Children Enabled="True" AddTask="False" ETLSelector="相册存储方案" Column="Content" Type="EtlEX" Group="Executor" />
    </Children>
    <Children Name="相册存储方案" Type="SmartETLTool" MaxThreadCount="20" GenerateMode="串行模式" SampleMount="20" CreateTime="2016/5/1 16:29:03" Description="任务描述" ScriptPath="    ">
      <Children Enabled="False" Column="从数据表生成" Position="0" MergeType="Append" Type="TableGE" Group="Generator" />
      <Children ReplaceText="]" IsMultiYield="False" Index="0" Script=",\]" NewColumn="" Column="Content" Enabled="True" OneOutput="True" Type="ReReplaceTF" Group="Transformer" />
      <Children ScriptWorkMode="不进行转换" Column="Content" NewColumn="" Enabled="True" OneOutput="False" Type="JsonTF" Group="Transformer" />
      <Children Enabled="True" ScriptWorkMode="文档列表" Script="dic={r[0]:r[1]['big'] for r in zip([p for p in piclist.split(' ') if p.strip()!=''],Content)}&#xD;&#xA;result=[]&#xD;&#xA;for item in dic:&#xD;&#xA;	for value in dic[item]:&#xD;&#xA;		result.append({'type':item,'pic':value});&#xD;&#xA;result&#xD;&#xA;	" Column="Content" NewColumn="city id" OneOutput="False" IsMultiYield="True" Type="PythonTF" Group="Transformer" />
      <Children IsMultiYield="False" Index="0" Script="\w{15,}" NewColumn="pid" Column="pic" Enabled="True" OneOutput="True" Type="RegexTF" Group="Transformer" />
      <Children Format="D:\安居客图片\{0}\相册\{1}_{2}_{3}.jpg" Enabled="True" MergeWith="id type pid" Column="city" NewColumn="save" OneOutput="True" IsMultiYield="False" Type="MergeTF" Group="Transformer" />
      <Children Column="save" NewColumn="exist" Enabled="True" OneOutput="True" IsMultiYield="False" Type="FileExistFT" Group="Transformer" />
      <Children Script="False" Enabled="True" Count="1" Revert="False" Column="exist" IsDebugFilter="True" Type="RegexFT" Group="Filter" />
      <Children SavePath="[save]" CrawlerSelector="网页采集器-通用" IsAsync="False" Column="pic" Enabled="True" Type="SaveFileEX" Group="Executor" />
    </Children>
    <Children Name="安居客楼盘详情" Type="SmartETLTool" MaxThreadCount="20" GenerateMode="串行模式" SampleMount="20" CreateTime="2016/5/1 16:29:03" Description="任务描述" ScriptPath="    ">
      <Children Enabled="False" Content="http://bj.fang.anjuke.com/loupan/canshu-251751.html?from=loupan_tab" Column="detailurl" Position="0" MergeType="Append" Type="TextGE" Group="Generator" />
      <Children MaxTryCount="3" Enabled="True" ErrorDelay="3000" IsRegex="False" CrawlerSelector="网页采集器-通用" Column="detailurl" NewColumn="" OneOutput="False" IsMultiYield="False" Type="CrawlerTF" Group="Transformer" />
      <Children Enabled="True" XPath="//*[@id=&quot;container&quot;]/div[1]/div[1]/div//li" IsManyData="True" GetText="False" GetCount="False" IsInsertNull="True" Column="Content" NewColumn="" OneOutput="True" IsMultiYield="True" Type="XPathTF" Group="Transformer" />
      <Children Enabled="True" XPath="li[1]/div[1]" IsManyData="False" GetText="False" GetCount="False" IsInsertNull="False" Column="OHTML" NewColumn="key" OneOutput="True" IsMultiYield="False" Type="XPathTF" Group="Transformer" />
      <Children Enabled="True" XPath="/li[1]/div[2]" IsManyData="False" GetText="False" GetCount="False" IsInsertNull="False" Column="OHTML" NewColumn="value" OneOutput="True" IsMultiYield="False" Type="XPathTF" Group="Transformer" />
      <Children Enabled="True" Column="Text" NewColumn="" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children Enabled="True" Column="HTML" NewColumn="" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children Enabled="True" Column="OHTML" NewColumn="" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children Enabled="True" ConvertType="Decode" Column="value" NewColumn="" OneOutput="True" IsMultiYield="False" Type="HtmlTF" Group="Transformer" />
      <Children ReplaceText="" IsMultiYield="False" Index="0" Script="\[\w+\]" NewColumn="" Column="value" Enabled="True" OneOutput="True" Type="ReReplaceTF" Group="Transformer" />
      <Children ReplaceText=" " IsMultiYield="False" Index="0" Script="\r|\n" NewColumn="" Column="value" Enabled="True" OneOutput="True" Type="ReReplaceTF" Group="Transformer" />
      <Children Enabled="True" ReplaceBlank="False" ReplaceInnerBlank="True" Column="value" NewColumn="" OneOutput="True" IsMultiYield="False" Type="TrimTF" Group="Transformer" />
      <Children Enabled="True" ReplaceBlank="False" ReplaceInnerBlank="True" Column="key" NewColumn="" OneOutput="True" IsMultiYield="False" Type="TrimTF" Group="Transformer" />
      <Children ReplaceText="" IsMultiYield="False" Index="0" Script="/" NewColumn="" Column="key" Enabled="True" OneOutput="True" Type="ReReplaceTF" Group="Transformer" />
      <Children ValueColumn="value" Column="key" NewColumn="" Enabled="True" OneOutput="True" IsMultiYield="True" Type="DictTF" Group="Transformer" />
    </Children>
    <Children Name="安居客评价" Type="SmartETLTool" MaxThreadCount="20" GenerateMode="串行模式" SampleMount="20" CreateTime="2016/5/1 16:29:03" Description="任务描述" ScriptPath="    ">
      <Children Enabled="False" Content="http://bj.fang.anjuke.com/loupan/dianping-251751.html?from=loupan_tab" Column="dpurl" Name="" Position="0" MergeType="Append" Type="TextGE" Group="Generator" />
      <Children MaxTryCount="1" Enabled="True" ErrorDelay="3000" IsRegex="False" CrawlerSelector="安居客用户评价" Column="dpurl" NewColumn="city id" OneOutput="False" IsMultiYield="True" Type="CrawlerTF" Group="Transformer" />
      <Children ExecuteType="OnlyInsert" TableName="dianping" Column="city" Enabled="True" Type="DbEX" Group="Executor" Connector="MongoDB-anjuke" />
    </Children>
    <Children Name="安居客用户评价" Type="SmartCrawler" URL="http://bj.fang.anjuke.com/loupan/dianping-251751.html?from=loupan_tab" RootXPath="//*[@id=&quot;j-total-wrap&quot;]/ul/li" IsMultiData="List" URLFilter="" ContentFilter="" Crawler="" CreateTime="2016/5/1 16:29:03" Description="任务描述" ScriptPath="    ">
      <HttpSet URL="http://bj.fang.anjuke.com/loupan/dianping-251751.html?from=loupan_tab" Allowautoredirect="True" Postdata="" Encoding="Unknown" Method="GET" Parameters="Accept:text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8&#xA;Cookie:ctid=14;expires=Mon, 20-Jun-2016 14:29:25 GMT;Max-Age=2592000;path=/;domain=anjuke.com;aQQ_ajkguid=198C990F-F8D1-B8A1-504A-4DC77C63C9EC;isp=true;als=0;_qzja=1.56796143.1461414601655.1462686461381.1463275403342.1463275403342.1463275412755..0.0.7.3;_ga=GA1.2.1465101467.1461414598;_jzqx=1.1461414602.1463580822.5.jzqsr=bj%2Eanjuke%2Ecom|jzqct=/.jzqsr=zhengzhou%2Eanjuke%2Ecom|jzqct=/;sessid=7C295BE6-9579-A0FF-069C-SX0521172114;lps=http%3A%2F%2Flogin.anjuke.com%2Fplugin%2Flogin%3Fmediatype%3D0%26btnname%3D%25E5%25BF%25AB%25E9%2580%259F%25E7%2594%25B3%25E8%25AF%25B7%7Chttp%3A%2F%2Fks.fang.anjuke.com%2Floupan%2F236753.html%3Ffrom%3Dloupan_index_crumb;ajk_member_captcha=18cca4f2fe60e3171128b9d947d5107d;_jzqckmp=1;__xsptplus8=8.7.1463822475.1463822652.2%232%7Cbzclk.baidu.com%7C%7C%7C%25E5%25AE%2589%25E5%25B1%2585%25E5%25AE%25A2%7C%23%233B-CyjsR4rUCdHUD9EU3WDaxk1qwbLcs%23;_jzqa=1.1903731149120286000.1461414602.1463580822.1463822475.7;_jzqc=1;lp_lt_ut=3729318e082e6f2b6873abccdf04ee50;twe=2;Hm_lvt_c5899c8768ebee272710c9c5f365a6d8=1462692276,1463275063,1463580815,1463822475;Hm_lpvt_c5899c8768ebee272710c9c5f365a6d8=1463839970;58tj_uuid=3ad15406-0eed-4a29-a1b5-80847577ccc6;new_session=0;init_refer=;new_uv=8&#xA;Host:bj.fang.anjuke.com&#xA;User-Agent:Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/38.0.2125.122 Safari/537.36 SE 2.X MetaSr 1.0&#xA;Accept-Encoding:gzip,deflate,sdch&#xA;Accept-Language:zh-CN,zh;q=0.8&#xA;Cache-Control:max-age=0&#xA;Connection:keep-alive&#xA;If-Modified-Since:Sat, 21 May 2016 14:12:49 GMT&#xA;" />
      <Children Name="用户名" XPath="/div[1]/div[2]/div[1]/a[1]/span[1]" IsHtml="False" />
      <Children Name="内容" XPath="/div[1]/div[2]/h4[1]" IsHtml="False" />
      <Children Name="时间" XPath="/div[1]/div[2]/div[2]/span" IsHtml="False" />
      <Children Name="评论数" XPath="/div[1]/div[2]/div[2]/div[1]/a[1]/em[1]" IsHtml="False" />
      <Children Name="点赞数" XPath="/div[1]/div[2]/div[2]/div[1]/a[2]/em[1]" IsHtml="False" />
      <Children Name="差评数" XPath="/div[1]/div[2]/div[2]/div[1]/a[3]/em[1]" IsHtml="False" />
    </Children>
    <Children Name="安居客户型列表" Type="SmartETLTool" MaxThreadCount="20" GenerateMode="串行模式" SampleMount="20" CreateTime="2016/5/1 16:29:03" Description="任务描述" ScriptPath="    ">
      <Children Enabled="False" Content="http://bj.fang.anjuke.com/loupan/huxing-251751.html?from=loupan_tab" Column="hxurl" Name="" Position="0" MergeType="Append" Type="TextGE" Group="Generator" />
      <Children MaxTryCount="3" Enabled="True" ErrorDelay="3000" IsRegex="False" CrawlerSelector="安居客户型表" Column="hxurl" NewColumn="scity city" OneOutput="False" IsMultiYield="True" Type="CrawlerTF" Group="Transformer" />
      <Children Enabled="True" IsMultiYield="False" Index="0" Script="(-?\d+)(\.\d+)?" NewColumn="" Column="面积" OneOutput="True" Type="NumberTF" Group="Transformer" />
      <Children ReplaceText="" IsMultiYield="False" Index="0" Script="：" NewColumn="" Column="名称" Enabled="True" OneOutput="True" Type="ReReplaceTF" Group="Transformer" />
      <Children MaxTryCount="1" Enabled="True" ErrorDelay="3000" IsRegex="False" CrawlerSelector="安居客户型详情" Column="户型ID" NewColumn="" OneOutput="False" IsMultiYield="False" Type="CrawlerTF" Group="Transformer" />
      <Children ReplaceText="" IsMultiYield="False" Index="0" Script="户型描述:" NewColumn="" Column="描述" Enabled="True" OneOutput="True" Type="ReReplaceTF" Group="Transformer" />
      <Children Enabled="True" IsMultiYield="False" Index="0" Script="(-?\d+)(\.\d+)?" NewColumn="小区ID" Column="户型ID" OneOutput="True" Type="NumberTF" Group="Transformer" />
      <Children Enabled="True" IsMultiYield="False" Index="1" Script="\d+" NewColumn="hxID" Column="户型ID" OneOutput="True" Type="NumberTF" Group="Transformer" />
      <Children ExecuteType="OnlyInsert" TableName="huxing" Column="名称" Enabled="True" Type="DbEX" Group="Executor" Connector="MongoDB-anjuke" />
      <Children Enabled="True" AddTask="False" ETLSelector="户型图存储" Column="户型ID" Type="EtlEX" Group="Executor" />
    </Children>
    <Children Name="安居客户型表" Type="SmartCrawler" URL="http://bj.fang.anjuke.com/loupan/huxing-251751.html?from=loupan_tab" RootXPath="/html[1]/body[1]/div[3]/div[1]/div[1]/div[2]/ul[1]/li" IsMultiData="List" URLFilter="" ContentFilter="C1户型" Crawler="" CreateTime="2016/5/1 16:29:03" Description="任务描述" ScriptPath="    ">
      <HttpSet URL="http://bj.fang.anjuke.com/loupan/huxing-251751.html?from=loupan_tab" Allowautoredirect="True" Postdata="" Encoding="Unknown" Method="GET" Parameters="Accept:text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8&#xA;Cookie:ctid=14;expires=Mon, 20-Jun-2016 14:29:25 GMT;Max-Age=2592000;path=/;domain=anjuke.com;aQQ_ajkguid=198C990F-F8D1-B8A1-504A-4DC77C63C9EC;isp=true;als=0;_qzja=1.56796143.1461414601655.1462686461381.1463275403342.1463275403342.1463275412755..0.0.7.3;_ga=GA1.2.1465101467.1461414598;_jzqx=1.1461414602.1463580822.5.jzqsr=bj%2Eanjuke%2Ecom|jzqct=/.jzqsr=zhengzhou%2Eanjuke%2Ecom|jzqct=/;sessid=7C295BE6-9579-A0FF-069C-SX0521172114;lps=http%3A%2F%2Flogin.anjuke.com%2Fplugin%2Flogin%3Fmediatype%3D0%26btnname%3D%25E5%25BF%25AB%25E9%2580%259F%25E7%2594%25B3%25E8%25AF%25B7%7Chttp%3A%2F%2Fks.fang.anjuke.com%2Floupan%2F236753.html%3Ffrom%3Dloupan_index_crumb;ajk_member_captcha=18cca4f2fe60e3171128b9d947d5107d;_jzqckmp=1;__xsptplus8=8.7.1463822475.1463822652.2%232%7Cbzclk.baidu.com%7C%7C%7C%25E5%25AE%2589%25E5%25B1%2585%25E5%25AE%25A2%7C%23%233B-CyjsR4rUCdHUD9EU3WDaxk1qwbLcs%23;_jzqa=1.1903731149120286000.1461414602.1463580822.1463822475.7;_jzqc=1;lp_lt_ut=3729318e082e6f2b6873abccdf04ee50;twe=2;Hm_lvt_c5899c8768ebee272710c9c5f365a6d8=1462692276,1463275063,1463580815,1463822475;Hm_lpvt_c5899c8768ebee272710c9c5f365a6d8=1463839970;58tj_uuid=3ad15406-0eed-4a29-a1b5-80847577ccc6;new_session=0;init_refer=;new_uv=8&#xA;Host:bj.fang.anjuke.com&#xA;User-Agent:Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/38.0.2125.122 Safari/537.36 SE 2.X MetaSr 1.0&#xA;Accept-Encoding:gzip,deflate,sdch&#xA;Accept-Language:zh-CN,zh;q=0.8&#xA;Cache-Control:max-age=0&#xA;Connection:keep-alive&#xA;If-Modified-Since:Sat, 21 May 2016 14:12:49 GMT&#xA;" />
      <Children Name="状态" XPath="/a[1]/div[1]/div[1]/i[1]" IsHtml="False" />
      <Children Name="名称" XPath="/a[1]/div[1]/div[1]/span[1]" IsHtml="False" />
      <Children Name="面积" XPath="/a[1]/div[1]/div[2]/span[2]" IsHtml="False" />
      <Children Name="户型ID" XPath="/a[1]/@href[1]" IsHtml="False" />
    </Children>
    <Children Name="安居客户型详情" Type="SmartCrawler" URL="http://bj.fang.anjuke.com/huxing/251751-109269.html" RootXPath="" IsMultiData="One" URLFilter="" ContentFilter="" Crawler="" CreateTime="2016/5/1 16:29:03" Description="任务描述" ScriptPath="    ">
      <HttpSet URL="http://bj.fang.anjuke.com/huxing/251751-109269.html" Allowautoredirect="False" Postdata="" Encoding="Unknown" Method="GET" Parameters="Accept:text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8&#xA;Cookie:ctid=14;expires=Mon, 20-Jun-2016 14:29:25 GMT;Max-Age=2592000;path=/;domain=anjuke.com;aQQ_ajkguid=198C990F-F8D1-B8A1-504A-4DC77C63C9EC;isp=true;als=0;_qzja=1.56796143.1461414601655.1462686461381.1463275403342.1463275403342.1463275412755..0.0.7.3;_ga=GA1.2.1465101467.1461414598;_jzqx=1.1461414602.1463580822.5.jzqsr=bj%2Eanjuke%2Ecom|jzqct=/.jzqsr=zhengzhou%2Eanjuke%2Ecom|jzqct=/;sessid=7C295BE6-9579-A0FF-069C-SX0521172114;lps=http%3A%2F%2Flogin.anjuke.com%2Fplugin%2Flogin%3Fmediatype%3D0%26btnname%3D%25E5%25BF%25AB%25E9%2580%259F%25E7%2594%25B3%25E8%25AF%25B7%7Chttp%3A%2F%2Fks.fang.anjuke.com%2Floupan%2F236753.html%3Ffrom%3Dloupan_index_crumb;ajk_member_captcha=18cca4f2fe60e3171128b9d947d5107d;_jzqckmp=1;__xsptplus8=8.7.1463822475.1463822652.2%232%7Cbzclk.baidu.com%7C%7C%7C%25E5%25AE%2589%25E5%25B1%2585%25E5%25AE%25A2%7C%23%233B-CyjsR4rUCdHUD9EU3WDaxk1qwbLcs%23;_jzqa=1.1903731149120286000.1461414602.1463580822.1463822475.7;_jzqc=1;lp_lt_ut=3729318e082e6f2b6873abccdf04ee50;twe=2;Hm_lvt_c5899c8768ebee272710c9c5f365a6d8=1462692276,1463275063,1463580815,1463822475;Hm_lpvt_c5899c8768ebee272710c9c5f365a6d8=1463839970;58tj_uuid=3ad15406-0eed-4a29-a1b5-80847577ccc6;new_session=0;init_refer=;new_uv=8&#xA;Host:bj.fang.anjuke.com&#xA;User-Agent:Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/38.0.2125.122 Safari/537.36 SE 2.X MetaSr 1.0&#xA;Accept-Encoding:gzip,deflate,sdch&#xA;Accept-Language:zh-CN,zh;q=0.8&#xA;Cache-Control:max-age=0&#xA;Connection:keep-alive&#xA;If-Modified-Since:Sat, 21 May 2016 14:12:49 GMT&#xA;" />
      <Children Name="首付" XPath="//*[@id=&quot;content&quot;]/div[1]/div[3]/div[2]/p[2]/span" IsHtml="False" />
      <Children Name="参考月供" XPath="//*[@id=&quot;content&quot;]/div[1]/div[3]/div[2]/p[3]/span" IsHtml="False" />
      <Children Name="参考面积" XPath="//*[@id=&quot;content&quot;]/div[1]/div[3]/div[2]/p[4]/span" IsHtml="False" />
      <Children Name="朝向" XPath="//*[@id=&quot;content&quot;]/div[1]/div[3]/div[2]/p[5]/span" IsHtml="False" />
      <Children Name="层高" XPath="//*[@id=&quot;content&quot;]/div[1]/div[3]/div[2]/p[6]/span" IsHtml="False" />
      <Children Name="总价" XPath="//*[@id=&quot;content&quot;]/div[1]/div[3]/div[2]/p[1]/span" IsHtml="False" />
      <Children Name="户型特色" XPath="//*[@id=&quot;content&quot;]/div[1]/div[3]/div[2]/p[7]/span" IsHtml="False" />
      <Children Name="描述" XPath="//*[@id=&quot;content&quot;]/div[1]/div[3]/div[2]/div[2]" IsHtml="False" />
    </Children>
    <Children Name="户型图存储" Type="SmartETLTool" MaxThreadCount="20" GenerateMode="串行模式" SampleMount="20" CreateTime="2016/5/1 16:29:03" Description="任务描述" ScriptPath="    ">
      <Children Enabled="False" Content="http://bj.fang.anjuke.com/huxing/400776-153783.html" Column="户型ID" Position="0" MergeType="Append" Type="TextGE" Group="Generator" />
      <Children MaxTryCount="1" Enabled="True" ErrorDelay="3000" IsRegex="False" CrawlerSelector="安居客户型图列表" Column="户型ID" NewColumn="city scity hxID 小区ID" OneOutput="False" IsMultiYield="True" Type="CrawlerTF" Group="Transformer" />
      <Children Enabled="True" Column="名称" NewColumn="" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children ExecuteType="OnlyInsert" TableName="huxingtulist" Column="大图地址" Enabled="True" Type="DbEX" Group="Executor" Connector="MongoDB-anjuke" />
      <Children Enabled="True" AddTask="False" NewColumn="" ETLSelector="户型图存储方案" Column="大图地址" Type="EtlEX" Group="Executor" />
    </Children>
    <Children Name="安居客户型图列表" Type="SmartCrawler" URL="http://bj.fang.anjuke.com/huxing/400776-153783.html" RootXPath="" IsMultiData="List" URLFilter="" ContentFilter="" Crawler="" CreateTime="2016/5/1 16:29:03" Description="任务描述" ScriptPath="    ">
      <HttpSet URL="http://bj.fang.anjuke.com/huxing/400776-153783.html" Allowautoredirect="False" Postdata="" Encoding="Unknown" Method="GET" Parameters="Accept:text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8&#xA;Cookie:ctid=14;expires=Mon, 20-Jun-2016 14:29:25 GMT;Max-Age=2592000;path=/;domain=anjuke.com;aQQ_ajkguid=198C990F-F8D1-B8A1-504A-4DC77C63C9EC;isp=true;als=0;_qzja=1.56796143.1461414601655.1462686461381.1463275403342.1463275403342.1463275412755..0.0.7.3;_ga=GA1.2.1465101467.1461414598;_jzqx=1.1461414602.1463580822.5.jzqsr=bj%2Eanjuke%2Ecom|jzqct=/.jzqsr=zhengzhou%2Eanjuke%2Ecom|jzqct=/;sessid=7C295BE6-9579-A0FF-069C-SX0521172114;lps=http%3A%2F%2Flogin.anjuke.com%2Fplugin%2Flogin%3Fmediatype%3D0%26btnname%3D%25E5%25BF%25AB%25E9%2580%259F%25E7%2594%25B3%25E8%25AF%25B7%7Chttp%3A%2F%2Fks.fang.anjuke.com%2Floupan%2F236753.html%3Ffrom%3Dloupan_index_crumb;ajk_member_captcha=18cca4f2fe60e3171128b9d947d5107d;_jzqckmp=1;__xsptplus8=8.7.1463822475.1463822652.2%232%7Cbzclk.baidu.com%7C%7C%7C%25E5%25AE%2589%25E5%25B1%2585%25E5%25AE%25A2%7C%23%233B-CyjsR4rUCdHUD9EU3WDaxk1qwbLcs%23;_jzqa=1.1903731149120286000.1461414602.1463580822.1463822475.7;_jzqc=1;lp_lt_ut=3729318e082e6f2b6873abccdf04ee50;twe=2;Hm_lvt_c5899c8768ebee272710c9c5f365a6d8=1462692276,1463275063,1463580815,1463822475;Hm_lpvt_c5899c8768ebee272710c9c5f365a6d8=1463839970;58tj_uuid=3ad15406-0eed-4a29-a1b5-80847577ccc6;new_session=0;init_refer=;new_uv=8&#xA;Host:bj.fang.anjuke.com&#xA;User-Agent:Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/38.0.2125.122 Safari/537.36 SE 2.X MetaSr 1.0&#xA;Accept-Encoding:gzip,deflate,sdch&#xA;Accept-Language:zh-CN,zh;q=0.8&#xA;Cache-Control:max-age=0&#xA;Connection:keep-alive&#xA;If-Modified-Since:Sat, 21 May 2016 14:12:49 GMT&#xA;" />
      <Children Name="大图地址" XPath="/html[1]/body[1]/div[3]/div[1]/div[1]/div[3]/div[1]/div[2]/div[1]/ul[1]/li[1]/img[1]/@data-url[1]" IsHtml="False" />
      <Children Name="名称" XPath="/html[1]/body[1]/div[3]/div[1]/div[1]/div[3]/div[1]/div[2]/div[1]/ul[1]/li[5]/img[1]/@alt[1]" IsHtml="False" />
    </Children>
    <Children Name="户型图存储方案" Type="SmartETLTool" MaxThreadCount="40" GenerateMode="并行模式" SampleMount="20" CreateTime="2016/5/1 16:29:03" Description="任务描述" ScriptPath="">
      <Children Enabled="False" Column="从数据表生成" Position="0" MergeType="Append" Type="TableGE" Group="Generator" />
      <Children Format="http://{1}.fang.anjuke.com{0}" Enabled="True" MergeWith="scity" Column="大图地址" NewColumn="url" OneOutput="True" IsMultiYield="False" Type="MergeTF" Group="Transformer" />
      <Children MaxTryCount="1" Enabled="True" ErrorDelay="3000" IsRegex="False" CrawlerSelector="网页采集器-通用" Column="url" NewColumn="" OneOutput="False" IsMultiYield="False" Type="CrawlerTF" Group="Transformer" />
      <Children Enabled="True" Former="loadImage(&quot;" End="&quot;, function(img)" HaveStartEnd="False" Column="Content" NewColumn="pic" OneOutput="True" IsMultiYield="False" Type="StrExtractTF" Group="Transformer" />
      <Children Enabled="True" Column="Content" NewColumn="" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children IsMultiYield="False" Index="2" Script="\d{5,}" NewColumn="picid" Column="大图地址" Enabled="True" OneOutput="True" Type="RegexTF" Group="Transformer" />
      <Children Format="D:\安居客图片\{0}\户型图\{1}_{2}_{3}.jpg" Enabled="True" MergeWith="hxID 小区ID picid" Column="city" NewColumn="save" OneOutput="True" IsMultiYield="False" Type="MergeTF" Group="Transformer" />
      <Children Column="save" NewColumn="exist" Enabled="True" OneOutput="True" IsMultiYield="False" Type="FileExistFT" Group="Transformer" />
      <Children Script="False" Enabled="True" Count="1" Revert="False" Column="exist" IsDebugFilter="True" Type="RegexFT" Group="Filter" />
      <Children SavePath="[save]" IsAsync="False" Column="pic" Enabled="True" Type="SaveFileEX" Group="Executor" />
    </Children>
    <Children Name="获取参数更新" Type="SmartETLTool" MaxThreadCount="10" GenerateMode="并行模式" CreateTime="2016/5/4 16:25:19" Description="任务描述" ScriptPath="" Children="System.Collections.Generic.List`1[Hawk.Core.Utils.Plugins.FreeDocument]">
      <Children Mount="-1" Column="" Enabled="True" Position="0" MergeType="Append" Type="DbGE" Group="Generator" Connector="MongoDB-anjuke" Table="main" />
      <Children IsMultiYield="False" ETLSelector="详细参数" Column="商圈" Enabled="True" Type="EtlTF" Group="Transformer" />
      <Children Column="pos_lng" NewColumn="" Enabled="True" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children Column="pos_lat" NewColumn="" Enabled="True" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children Column="pos_name" NewColumn="" Enabled="True" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children ExecuteType="InsertOrUpdate" TableName="main" Column="id" Enabled="True" Type="DbEX" Group="Executor" Connector="MongoDB-anjuke" />
    </Children>
    <Children Name="详细参数" Type="SmartETLTool" MaxThreadCount="20" GenerateMode="串行模式" SampleMount="20" CreateTime="2016/5/4 16:25:19" Description="任务描述" ScriptPath="">
      <Children Enabled="False" Content="nanjing" Column="city" Position="0" MergeType="Append" Type="TextGE" Group="Generator" />
      <Children Enabled="False" Content="248302" Column="id" Position="0" MergeType="Merge" Type="TextGE" Group="Generator" />
      <Children Format="http://{1}.fang.anjuke.com/loupan/{0}.html?from=loupan_tab" Enabled="True" MergeWith="city" Column="id" NewColumn="url" OneOutput="True" IsMultiYield="False" Type="MergeTF" Group="Transformer" />
      <Children MaxTryCount="1" Enabled="True" ErrorDelay="3000" IsRegex="False" CrawlerSelector="网页采集器-通用" Column="url" NewColumn="" OneOutput="False" IsMultiYield="False" Type="CrawlerTF" Group="Transformer" />
      <Children Enabled="True" Former="groupsojData =" End="//from来源" HaveStartEnd="False" Column="Content" NewColumn="" OneOutput="True" IsMultiYield="False" Type="StrExtractTF" Group="Transformer" />
      <Children Format="D:\buptzym的同步盘\百度云\我的文档\数据分析\datasets\housebj\安居客全部楼盘\{0}-{1}.json" Enabled="True" MergeWith="id" Column="city" NewColumn="save" OneOutput="True" IsMultiYield="False" Type="MergeTF" Group="Transformer" />
      <Children Enabled="True" ScriptWorkMode="不进行转换" Script="value.strip()[:-1]" Column="Content" NewColumn="详细json" OneOutput="False" IsMultiYield="False" Type="PythonTF" Group="Transformer" />
      <Children Enabled="False" EncodingType="UTF8" Path="[save]" Column="Content" Type="WriteFileTextTF" Group="Executor" />
      <Children Enabled="True" Column="Content" NewColumn="" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children Enabled="True" Column="url" NewColumn="" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children Enabled="True" Column="id" NewColumn="" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children Enabled="True" Column="city" NewColumn="" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children Enabled="True" Column="save" NewColumn="" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
    </Children>
    <Children Name="小区数据采集" Type="SmartETLTool" MaxThreadCount="100" GenerateMode="并行模式" SampleMount="20" CreateTime="2016/5/5 10:16:24" Description="任务描述" ScriptPath="">
      <Children Format="http://{1}.fang.anjuke.com/loupan/xiangce-{0}.html" Enabled="True" MergeWith="scity" Column="id" NewColumn="picturl" OneOutput="True" IsMultiYield="False" Type="MergeTF" Group="Transformer" />
      <Children Format="http://{1}.fang.anjuke.com/loupan/canshu-{0}.html?from=loupan_tab" Enabled="True" MergeWith="scity" Column="id" NewColumn="detailurl" OneOutput="True" IsMultiYield="False" Type="MergeTF" Group="Transformer" />
      <Children Enabled="True" AddTask="False" ETLSelector="安居客相册" Column="picturl" Name="相册" Type="EtlEX" Group="Executor" />
      <Children Enabled="True" NewColumn="" IsMultiYield="False" ETLSelector="安居客楼盘详情" Column="detailurl" Type="EtlTF" Group="Transformer" />
      <Children Enabled="True" ReplaceBlank="False" ReplaceInnerBlank="True" Column="楼盘名称" NewColumn="" OneOutput="True" IsMultiYield="False" Type="TrimTF" Group="Transformer" />
      <Children Name="" Enabled="True" FromBack="False" ShouldSplitChars="False" SplitPause="True" SplitNull="True" Index="1" SplitChar="" Column="楼盘名称" NewColumn="售房状态" OneOutput="True" IsMultiYield="False" Type="SplitTF" Group="Transformer" />
      <Children Enabled="True" FromBack="False" ShouldSplitChars="False" SplitPause="True" SplitNull="True" Index="0" SplitChar="" Column="楼盘名称" NewColumn="楼盘名称" OneOutput="True" IsMultiYield="False" Type="SplitTF" Group="Transformer" />
      <Children Format="http://{1}.fang.anjuke.com/loupan/dianping-{0}.html?from=loupan_tab" Enabled="True" MergeWith="scity" Column="id" NewColumn="dpurl" OneOutput="True" IsMultiYield="False" Type="MergeTF" Group="Transformer" />
      <Children Enabled="True" AddTask="False" NewColumn="city id" ETLSelector="安居客评价" Column="dpurl" Type="EtlEX" Group="Executor" />
      <Children Format="http://{1}.fang.anjuke.com/loupan/huxing-{0}.html?from=loupan_tab" Enabled="True" MergeWith="scity" Column="id" NewColumn="hxurl" OneOutput="True" IsMultiYield="False" Type="MergeTF" Group="Transformer" />
      <Children Enabled="True" AddTask="False" ETLSelector="安居客户型列表" Column="hxurl" Type="EtlEX" Group="Executor" />
      <Children Enabled="True" Column="hxurl" NewColumn="" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children Enabled="True" Column="dpurl" NewColumn="" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children Enabled="True" Column="detailurl" NewColumn="" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children Format="http://{1}.fang.anjuke.com/loupan/{0}.html?from=loupan_index_crumb" Enabled="True" MergeWith="scity" Column="id" NewColumn="syurl" OneOutput="True" IsMultiYield="False" Type="MergeTF" Group="Transformer" />
      <Children MaxTryCount="1" Enabled="True" ErrorDelay="3000" IsRegex="False" CrawlerSelector="网页采集器-通用" Column="syurl" NewColumn="" OneOutput="False" IsMultiYield="False" Type="CrawlerTF" Group="Transformer" />
      <Children Enabled="True" Former="priceData =" End="var timer = null;" HaveStartEnd="False" Column="Content" NewColumn="" OneOutput="True" IsMultiYield="False" Type="StrExtractTF" Group="Transformer" />
      <Children ReplaceText="" IsMultiYield="False" Index="0" Script="\r|\n|;|\s\s" NewColumn="价格趋势" Column="Content" Enabled="True" OneOutput="True" Type="ReReplaceTF" Group="Transformer" />
      <Children Enabled="True" Column="Content" NewColumn="" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children Enabled="True" Column="picturl" NewColumn="" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children Enabled="True" Column="syurl" NewColumn="" OneOutput="False" IsMultiYield="False" Type="DeleteTF" Group="Transformer" />
      <Children ExecuteType="InsertOrUpdate" TableName="main" Column="id" Enabled="True" Type="DbEX" Group="Executor" Connector="MongoDB-anjuke" />
      <Children Enabled="True" IsClone="False" Table="数据库" Column="" Type="TableEX" Group="Executor" />
    </Children>
  </Doc>
</root>